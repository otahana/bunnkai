<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>背景画像クリックデモ</title>
    
    <style>
        /* ベースのスタイル設定 */
body {
    margin: 0;
    height: 100vh;
    overflow: hidden; 
    background-color: aliceblue;
    position: relative;
    /* 動画と静止画を重ねて中央に配置するための設定 */
    display: flex; 
    justify-content: center;
    align-items: center;
}

/* -------------------------------------- */
/* 変更点: 動画のスタイル設定 (サイズ調節) */
#intro-video {
    /* 動画を画面の中央に配置 */
    position: absolute;
    z-index: 10;
    
    /* 動画の最大サイズを画面の70%に制限 */
    width: 90vw;    /* 画面幅の70% */
    height: 90vh;   /* 画面高さの70% */
    max-width: 100%;
    max-height: 100%;
    
    /* アスペクト比を保ちながら、指定された領域(70%)内に収まるように表示 */
    object-fit: contain; 
    
    /* 動画の背景（余白部分）を黒くする */
    background-color: rgba(255, 255, 255, 0); 
}

/* 変更点: 通常画面のコンテナに背景画像を移動 */
#game-screen {
    width: 100%;
    height: 100%;
    position: absolute; /* 動画と同じ位置に重ねて配置 */
    
    /* 背景画像の設定 */
    background-image: url(title01.jpg);
    background-size: 70%;       /* 背景画像を70%のサイズで表示 */
    background-position: center;
    background-repeat: no-repeat;
    
    z-index: 5; /* 動画の下に配置 */
}

/* 初期非表示用のクラス */
.hidden {
    display: none;
}

/* -------------------------------------- */
/* クリック領域の共通スタイル（変更なし） */
.clickable-area {
    position: absolute;
    cursor: pointer;
    display: block; 
    background-color: transparent;
    transition: background-color 0.3s;
}

/* 領域の位置とサイズ調整 (微調整が必要です) */
.decision-area {
    width: 150px; 
    height: 60px; 
    bottom: 85px;
    right: 250px; 
}
.summary-area {
    width: 150px; 
    height: 60px; 
    bottom: 85px;
    left: 250px;
}

/* ホバー効果の定義（変更なし） */
.clickable-area:hover {
    background-color: rgba(235, 235, 235, 0.102);
    box-shadow: 0 0 10px rgba(255, 255, 255, 0), inset 0 0 10px rgb(0, 217, 255);
}
    </style>
</head>
<body>

    <video id="intro-video" src="title.mp4"></video>

    <div id="game-screen" class="hidden">
        <a href="start_select.html" class="clickable-area decision-area"></a>
        <a href="summary.html" class="clickable-area summary-area"></a>
    </div>

    <script>
    document.addEventListener('DOMContentLoaded', (event) => {
        const video = document.getElementById('intro-video');
        const gameScreen = document.getElementById('game-screen');

        // ページ読み込み後、すぐに動画を再生
        video.muted = true; 
        video.play().catch(error => {
            console.log("Video auto-play blocked:", error);
        });

        // ----------------------------------------------------
        // ★変更点1: 動画の再生が終了した時の処理（既存）
        // ----------------------------------------------------
        video.addEventListener('ended', () => {
            switchToGameScreen();
        });

        // ----------------------------------------------------
        // ★変更点2: 動画がクリックされた時の処理（スキップ機能）
        // ----------------------------------------------------
        video.addEventListener('click', () => {
            // 動画の再生を一時停止
            video.pause();
            // ゲーム画面へ切り替え
            switchToGameScreen();
        });

        // ----------------------------------------------------
        // 画面切り替えの共通関数
        // ----------------------------------------------------
        function switchToGameScreen() {
            // 動画を非表示にする
            video.classList.add('hidden');
            
            // ゲーム画面を表示する
            gameScreen.classList.remove('hidden');
        }
    });
</script>
</body>
</html>